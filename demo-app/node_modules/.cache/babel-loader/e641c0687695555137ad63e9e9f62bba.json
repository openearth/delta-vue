{"remainingRequest":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/babel-loader/lib/index.js!/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/eslint-loader/index.js??ref--13-0!/Volumes/Voorhoede/www/deltares/delta-vue-components/component-library/src/components/LayerListControls/useLegend.js","dependencies":[{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/component-library/src/components/LayerListControls/useLegend.js","mtime":1604393040000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vdXNlU2VsZWN0ZWQnKS5TZWxlY3RlZElkc30gKi8KCi8qKiBAdHlwZWRlZiB7eyB2YWx1ZTogU3RyaW5nIH19IEFjdGl2ZUxlZ2VuZCAqLwppbXBvcnQgeyByZWYsIHdhdGNoIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgbGFzdCBmcm9tICcuLi8uLi91dGlscy9sYXN0JzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlTGVnZW5kKHNlbGVjdGVkSWRzKSB7CiAgLyoqIEB0eXBlIHtBY3RpdmVMZWdlbmR9ICovCiAgdmFyIGFjdGl2ZUxlZ2VuZCA9IHJlZignJyk7CiAgLyoqCiAgICogU2V0IHRoZSBhY3RpdmUgbGVnZW5kIHRvIGEgbmV3IHZhbHVlLCBvciBjbGVhciBpdCB3aGVuIHRoZSBzYW1lIHZhbHVlIGlzIAogICAqIHByb3ZpZGVkCiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIAogICAqLwoKICBmdW5jdGlvbiBzZXRBY3RpdmVMZWdlbmQoaWQpIHsKICAgIGFjdGl2ZUxlZ2VuZC52YWx1ZSA9IGFjdGl2ZUxlZ2VuZC52YWx1ZSA9PT0gaWQgPyAnJyA6IGlkOwogIH0KICAvKioKICAgKiBIYW5kbGVyIGZvciB3aGVuIGBzZWxlY3RlZElkc2AgY2hhbmdlLgogICAqIEBwYXJhbSB7U2VsZWN0ZWRJZHN9IG5ld1NlbGVjdGVkSWRzCiAgICovCgoKICBmdW5jdGlvbiBoYW5kbGVTZWxlY3RlZElkc0NoYW5nZShuZXdTZWxlY3RlZElkcykgewogICAgdmFyIGxhc3RTZWxlY3RlZElkID0gbGFzdChuZXdTZWxlY3RlZElkcyk7CiAgICBzZXRBY3RpdmVMZWdlbmQobGFzdFNlbGVjdGVkSWQpOwogIH0KCiAgd2F0Y2goc2VsZWN0ZWRJZHMsIGhhbmRsZVNlbGVjdGVkSWRzQ2hhbmdlKTsKICByZXR1cm4gewogICAgYWN0aXZlTGVnZW5kOiBhY3RpdmVMZWdlbmQsCiAgICBzZXRBY3RpdmVMZWdlbmQ6IHNldEFjdGl2ZUxlZ2VuZAogIH07Cn0="},{"version":3,"sources":["/Volumes/Voorhoede/www/deltares/delta-vue-components/component-library/src/components/LayerListControls/useLegend.js"],"names":["ref","watch","last","useLegend","selectedIds","activeLegend","setActiveLegend","id","value","handleSelectedIdsChange","newSelectedIds","lastSelectedId"],"mappings":"AAAA;;AACA;AAEA,SAASA,GAAT,EAAcC,KAAd,QAA2B,sBAA3B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA,eAAe,SAASC,SAAT,CAAmBC,WAAnB,EAAgC;AAE7C;AACA,MAAMC,YAAY,GAAGL,GAAG,CAAC,EAAD,CAAxB;AAEA;;;;;;AAKA,WAASM,eAAT,CAAyBC,EAAzB,EAA6B;AAC3BF,IAAAA,YAAY,CAACG,KAAb,GAAqBH,YAAY,CAACG,KAAb,KAAuBD,EAAvB,GACjB,EADiB,GAEjBA,EAFJ;AAGD;AAED;;;;;;AAIA,WAASE,uBAAT,CAAiCC,cAAjC,EAAiD;AAC/C,QAAMC,cAAc,GAAGT,IAAI,CAACQ,cAAD,CAA3B;AACAJ,IAAAA,eAAe,CAACK,cAAD,CAAf;AACD;;AAEDV,EAAAA,KAAK,CAACG,WAAD,EAAcK,uBAAd,CAAL;AAEA,SAAO;AACLJ,IAAAA,YAAY,EAAZA,YADK;AAELC,IAAAA,eAAe,EAAfA;AAFK,GAAP;AAID","sourcesContent":["/** @typedef {import('./useSelected').SelectedIds} */\n/** @typedef {{ value: String }} ActiveLegend */\n\nimport { ref, watch } from '@vue/composition-api'\nimport last from '../../utils/last'\n\nexport default function useLegend(selectedIds) {\n\n  /** @type {ActiveLegend} */\n  const activeLegend = ref('')\n\n  /**\n   * Set the active legend to a new value, or clear it when the same value is \n   * provided\n   * @param {String} id \n   */\n  function setActiveLegend(id) {\n    activeLegend.value = activeLegend.value === id\n      ? ''\n      : id\n  }\n\n  /**\n   * Handler for when `selectedIds` change.\n   * @param {SelectedIds} newSelectedIds\n   */\n  function handleSelectedIdsChange(newSelectedIds) {\n    const lastSelectedId = last(newSelectedIds)\n    setActiveLegend(lastSelectedId)\n  }\n\n  watch(selectedIds, handleSelectedIdsChange)\n\n  return {\n    activeLegend,\n    setActiveLegend,\n  }\n}"]}]}