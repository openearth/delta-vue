{"remainingRequest":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/babel-loader/lib/index.js!/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/eslint-loader/index.js??ref--13-0!/Volumes/Voorhoede/www/deltares/delta-vue-components/component-library/src/components/LayerListControls/add-parent-id-to-layers.js","dependencies":[{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/component-library/src/components/LayerListControls/add-parent-id-to-layers.js","mtime":1604397588000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVm9sdW1lcy9Wb29yaG9lZGUvd3d3L2RlbHRhcmVzL2RlbHRhLXZ1ZS1jb21wb25lbnRzL2RlbW8tYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Wb2x1bWVzL1Zvb3Job2VkZS93d3cvZGVsdGFyZXMvZGVsdGEtdnVlLWNvbXBvbmVudHMvZGVtby1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwoKLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vX3R5cGVzJykuTGF5ZXJ9ICovCgovKiogQHR5cGVkZWYge2ltcG9ydCgnLi9fdHlwZXMnKS5MYXllckdyb3VwfSAqLwoKLyoqIEB0eXBlZGVmIHtTdHJpbmdbXX0gUGFyZW50SWRzICovCgovKiogQHR5cGVkZWYge0xheWVyICYgeyBwYXJlbnRJZHM6IFBhcmVudElkcyB9fSBMYXllcldpdGhQYXJlbnRzICovCgovKiogQHR5cGVkZWYge0xheWVyR3JvdXAgJiB7IHBhcmVudElkczogUGFyZW50SWRzIH19IExheWVyR3JvdXBXaXRoUGFyZW50cyAqLwoKLyoqIEB0eXBlZGVmIHtMYXllckdyb3VwICYgeyBjaGlsZHJlbjogTGF5ZXJHcm91cFdpdGhQYXJlbnRzW10gfCBMYXllcldpdGhQYXJlbnRzW10gfX0gTGF5ZXJHcm91cFdpdGhQYXJlbnRJZHMgKi8KCi8qKgogKiBDaGVja3MgaWYgdGhlIGl0ZW0gaXMgYSBMYXllckdyb3VwCiAqIEBwYXJhbSB7TGF5ZXIgfCBMYXllckdyb3VwfSBpdGVtIAogKiBAcmV0dXJucyB7Qm9vbGVhbn0KICovCnZhciBpc0xheWVyR3JvdXAgPSBmdW5jdGlvbiBpc0xheWVyR3JvdXAoaXRlbSkgewogIHJldHVybiBCb29sZWFuKGl0ZW0uY2hpbGRyZW4pOwp9OwovKioKICogW1JlY3Vyc2l2ZV0KICogQWRkcyBQYXJlbnRJZHMgdG8gYWxsIExheWVycyBhbmQgTGF5ZXJHcm91cHMKICogQHBhcmFtIHtMYXllckdyb3VwW119IGl0ZW1zIAogKiBAcGFyYW0ge1BhcmVudElkc30gcGFyZW50SWRzIAogKiBAcmV0dXJucyB7TGF5ZXJHcm91cFdpdGhQYXJlbnRJZHNbXX0KICovCgoKZnVuY3Rpb24gYWRkUGFyZW50SWRUb0xheWVycyhpdGVtcykgewogIHZhciBwYXJlbnRJZHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmIChpc0xheWVyR3JvdXAoaXRlbSkgPT09IGZhbHNlKSByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgcGFyZW50SWRzOiBwYXJlbnRJZHMKICAgIH0pOwogICAgdmFyIGNoaWxkcmVuID0gYWRkUGFyZW50SWRUb0xheWVycyhpdGVtLmNoaWxkcmVuLCBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcmVudElkcyksIFtpdGVtLmlkXSkpOwogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbiwKICAgICAgcGFyZW50SWRzOiBwYXJlbnRJZHMKICAgIH0pOwogIH0pOwp9CgpleHBvcnQgZGVmYXVsdCBhZGRQYXJlbnRJZFRvTGF5ZXJzOw=="},{"version":3,"sources":["/Volumes/Voorhoede/www/deltares/delta-vue-components/component-library/src/components/LayerListControls/add-parent-id-to-layers.js"],"names":["isLayerGroup","item","Boolean","children","addParentIdToLayers","items","parentIds","map","id"],"mappings":";;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;AAKA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI;AAAA,SAAIC,OAAO,CAACD,IAAI,CAACE,QAAN,CAAX;AAAA,CAAzB;AAEA;;;;;;;;;AAOA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoD;AAAA,MAAhBC,SAAgB,uEAAJ,EAAI;AAClD,SAAOD,KAAK,CAACE,GAAN,CAAU,UAAAN,IAAI,EAAI;AACvB,QAAID,YAAY,CAACC,IAAD,CAAZ,KAAuB,KAA3B,EAAkC,uCAAYA,IAAZ;AAAkBK,MAAAA,SAAS,EAATA;AAAlB;AAElC,QAAMH,QAAQ,GAAGC,mBAAmB,CAACH,IAAI,CAACE,QAAN,+BAAoBG,SAApB,IAA+BL,IAAI,CAACO,EAApC,GAApC;AACA,2CAAYP,IAAZ;AAAkBE,MAAAA,QAAQ,EAARA,QAAlB;AAA4BG,MAAAA,SAAS,EAATA;AAA5B;AACD,GALM,CAAP;AAMD;;AAED,eAAeF,mBAAf","sourcesContent":["/** @typedef {import('./_types').Layer} */\n/** @typedef {import('./_types').LayerGroup} */\n/** @typedef {String[]} ParentIds */\n/** @typedef {Layer & { parentIds: ParentIds }} LayerWithParents */\n/** @typedef {LayerGroup & { parentIds: ParentIds }} LayerGroupWithParents */\n/** @typedef {LayerGroup & { children: LayerGroupWithParents[] | LayerWithParents[] }} LayerGroupWithParentIds */\n\n/**\n * Checks if the item is a LayerGroup\n * @param {Layer | LayerGroup} item \n * @returns {Boolean}\n */\nconst isLayerGroup = item => Boolean(item.children)\n\n/**\n * [Recursive]\n * Adds ParentIds to all Layers and LayerGroups\n * @param {LayerGroup[]} items \n * @param {ParentIds} parentIds \n * @returns {LayerGroupWithParentIds[]}\n */\nfunction addParentIdToLayers(items, parentIds = []) {\n  return items.map(item => {\n    if (isLayerGroup(item) === false) return { ...item, parentIds }\n\n    const children = addParentIdToLayers(item.children, [...parentIds, item.id])\n    return { ...item, children, parentIds }\n  })\n}\n\nexport default addParentIdToLayers"]}]}