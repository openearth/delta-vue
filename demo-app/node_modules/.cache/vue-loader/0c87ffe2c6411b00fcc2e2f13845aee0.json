{"remainingRequest":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/vue2mapbox-gl/src/components/VMapbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/vue2mapbox-gl/src/components/VMapbox.vue","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Voorhoede/www/deltares/delta-vue-components/demo-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wnCmltcG9ydCB7cHJvcHNCaW5kZXIsIHByb3BzRGVmYXVsdHN9IGZyb20gJy4uL3V0aWxzL3Byb3BzQmluZGVyLmpzJwppbXBvcnQge2JpbmRNYXBFdmVudHMsIGJpbmRMYXllckV2ZW50c30gZnJvbSAnLi4vdXRpbHMvZXZlbnRzQmluZGVyLmpzJwoKY29uc3QgbWFwRXZlbnRzID0gWwogICdsb2FkJywKICAnem9vbXN0YXJ0JywKICAnem9vbWVuZCcsCiAgJ3pvb20nLAogICdzdHlsZWRhdGEnCl0KCi8vIHByb3BzIHRoYXQgd2Ugd2FudCB0byBwcm94eQovLyBzb21lIGFyZSBkaXNhYmxlZCBwZW5kaW5nIHRlc3RpbmcKLy8gbm90ZSB0aGF0IGJvb2xlYW4gcHJvcHMgYXJlIGFsd2F5cyBkZWZpbmVkICh1bnNwZWNpZmllZCA9IGZhbHNlKS4KLy8gVGhlIGRlZmF1bHQgdHJ1ZSdzIGFyZSBjb3BpZWQgZnJvbSBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvI21hcAovLyB0aGVzZSBjYW4gYmUgZGlzYWJsZWQgYWZ0ZXIgb2JqZWN0IGNvbnN0cnVjdGlvbgovLyB3ZSBjYW4gd2F0Y2ggYWxsIHRoZXNlIHByb3BlcnRpZXMgYnV0IHRoYXQncyBkaXNhYmxlZAoKZXhwb3J0IGNvbnN0IHByb3BzID0gewogIGFjY2Vzc1Rva2VuOiB7CiAgICB0eXBlOiBTdHJpbmcsCiAgICByZXF1aXJlZDogdHJ1ZQogIH0sCiAgLy8gYWx3YXlzIHRoaXMgY29tcG9uZW50CiAgY29udGFpbmVyOiB7CiAgICB0eXBlOiBbSFRNTEVsZW1lbnQsIFN0cmluZ10KICB9LAogIG1pblpvb206IHsKICAgIHR5cGU6IE51bWJlcgogIH0sCiAgbWF4Wm9vbTogewogICAgdHlwZTogTnVtYmVyCiAgfSwKICAvLyBjYW4ndCB1c2Ugc3R5bGUgKHJlc2VydmVkKSwgdXNlIHNhbWUgYXBwcm9hY2ggYXMgdWJlci9yZWFjdC1tYXAtZ2wKICBtYXBTdHlsZTogewogICAgdHlwZTogW09iamVjdCwgU3RyaW5nXQogIH0sCgogIGFudGlhbGlhczogewogICAgdHlwZTogQm9vbGVhbiwKICAgIGRlZmF1bHQ6IHRydWUKICB9LAogIC8vIGhhc2g6IHsKICAvLyAgIHR5cGU6IEJvb2xlYW4sCiAgLy8gICBkZWZhdWx0OiBmYWxzZQogIC8vIH0sCiAgLy8gaW50ZXJhY3RpdmU6IHsKICAvLyAgIHR5cGU6IEJvb2xlYW4sCiAgLy8gICBkZWZhdWx0OiB0cnVlCiAgLy8gfSwKICAvLyBiZWFyaW5nU25hcDogewogIC8vICAgdHlwZTogTnVtYmVyCiAgLy8gfSwKICAvLyBjbGFzc2VzOiB7CiAgLy8gICAvLyBhcnJheSBvZiBzdHJpbmdzCiAgLy8gICB0eXBlOiBBcnJheQogIC8vIH0sCiAgLy8gYXR0cmlidXRpb25Db250cm9sOiB7CiAgLy8gICB0eXBlOiBCb29sZWFuLAogIC8vICAgZGVmYXVsdDogdHJ1ZQogIC8vIH0sCiAgLy8gbG9nb1Bvc2l0aW9uOiB7CiAgLy8gICB0eXBlOiBTdHJpbmcKICAvLyB9LAogIC8vIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHsKICAvLyAgIHR5cGU6IEJvb2xlYW4sCiAgLy8gICBkZWZhdWx0OiBmYWxzZQogIC8vIH0sCiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB7CiAgICB0eXBlOiBCb29sZWFuLAogICAgZGVmYXVsdDogZmFsc2UKICB9LAogIC8vIHJlZnJlc2hFeHBpcmVkVGlsZXM6IHsKICAvLyAgIHR5cGU6IEJvb2xlYW4sCiAgLy8gICBkZWZhdWx0OiB0cnVlCiAgLy8gfSwKICAvLyBtYXhCb3VuZHM6IHsKICAvLyAgIC8vIGxhdExuZ0xpa2UKICAvLyAgIHR5cGU6IFtPYmplY3QsIEFycmF5XQogIC8vIH0sCiAgLy8gc2Nyb2xsWm9vbTogewogIC8vICAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sCiAgLy8gICBkZWZhdWx0OiB0cnVlCiAgLy8gfSwKICAvLyBib3hab29tOiB7CiAgLy8gICB0eXBlOiBCb29sZWFuLAogIC8vICAgZGVmYXVsdDogdHJ1ZQogIC8vIH0sCiAgLy8gZHJhZ1JvdGF0ZTogewogIC8vICAgdHlwZTogQm9vbGVhbiwKICAvLyAgIGRlZmF1bHQ6IHRydWUKICAvLyB9LAogIC8vIGRyYWdQYW46IHsKICAvLyAgIHR5cGU6IEJvb2xlYW4sCiAgLy8gICBkZWZhdWx0OiB0cnVlCiAgLy8gfSwKICAvLyBrZXlib2FyZDogewogIC8vICAgdHlwZTogQm9vbGVhbiwKICAvLyAgIGRlZmF1bHQ6IHRydWUKICAvLyB9LAogIC8vIGRvdWJsZUNsaWNrWm9vbTogewogIC8vICAgdHlwZTogQm9vbGVhbiwKICAvLyAgIGRlZmF1bHQ6IHRydWUKICAvLyB9LAogIC8vIHRvdWNoWm9vbVJvdGF0ZTogewogIC8vICAgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sCiAgLy8gICBkZWZhdWx0OiB0cnVlCiAgLy8gfSwKICAvLyB0cmFja1Jlc2l6ZTogewogIC8vICAgdHlwZTogQm9vbGVhbiwKICAvLyAgIGRlZmF1bHQ6IHRydWUKICAgIC8vIH0sCiAgY2VudGVyOiB7CiAgICB0eXBlOiBbT2JqZWN0LCBBcnJheV0KICB9LAogIHpvb206IHsKICAgIHR5cGU6IE51bWJlcgogIH0sCiAgYmVhcmluZzogewogICAgdHlwZTogTnVtYmVyCiAgfSwKICBwaXRjaDogewogICAgdHlwZTogTnVtYmVyCiAgfSwKICAvLyByZW5kZXJXb3JsZENvcGllczogewogIC8vICAgdHlwZTogQm9vbGVhbiwKICAvLyAgIGRlZmF1bHQ6IHRydWUKICAvLyB9Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndi1tYXBib3gnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKCSAgICBtYXA6IG51bGwKICAgIH0KICB9LAogIHByb3BzLAogIHByb3ZpZGUgKCkgewogICAgLy8gYWxsb3dzIHRvIHVzZSBpbmplY3Q6ICBbJ2dldE1hcCddICBpbiBjaGlsZCBjb21wb25lbnRzCiAgICByZXR1cm4gewogICAgICBnZXRNYXA6ICgpID0+IHRoaXMubWFwCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIC8vSW5pdGlhbHplIE1hcAogICAgbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSB0aGlzLmFjY2Vzc1Rva2VuCgoKICAgIGxldCBvcHRpb25zID0gcHJvcHNEZWZhdWx0cyhwcm9wcywgdGhpcy4kcHJvcHMpCgogICAgb3B0aW9ucy5jb250YWluZXIgPSB0aGlzLiRlbAoKICAgIC8vIE5vdGUgdGhhdCB3ZSBkb24ndCBhZGQgdGhpcy5tYXAgdG8gZGF0YQogICAgLy8gSXQgZG9lcyBub3QgaGF2ZSB0byBiZSBvYnNlcnZlZC4gU2VlOgogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvMjYzNyNpc3N1ZWNvbW1lbnQtMjA3MDc2NzQ0CiAgICB0aGlzLm1hcCA9IG5ldyBtYXBib3hnbC5NYXAob3B0aW9ucykKCiAgICAvLyBsaXN0ZW4gdG8gcHJvcGVydHkgY2hhbmdlcyBhbmQgc2V0IHRoZSBjb3JyZXNwb25kaW5nIGRhdGEgaW4gbWFwYm94CiAgICBwcm9wc0JpbmRlcih0aGlzLCB0aGlzLm1hcCwgb3B0aW9ucykKCiAgICAvLyBlbWl0IGEgbWFwIGNyZWF0ZWQgZXZlbnQKICAgIHRoaXMuJGVtaXQoJ21iLWNyZWF0ZWQnLCB0aGlzLm1hcCkKICAgIGJpbmRNYXBFdmVudHModGhpcywgdGhpcy5tYXAsIG1hcEV2ZW50cykKCiAgICAvLyBvbmVzIHRoZSBtYXAgIGlzIGxvYWRlZCwgYWRkIGFsIGxheWVycyB0aGF0IHdlcmUgcHJlc2VudCBkdXJpbmcgbW91bnQgdGltZQogICAgLy8gd2UgY2FuIGNvbnNpZGVyIHdhdGNoaW5nIG91ciBjaGlsZHJlbi4KICAgIHRoaXMuJG9uKCdtYi1sb2FkJywgKCkgPT4gewogICAgICB0aGlzLmFkZExheWVycygpCiAgICB9KQogICAgdGhpcy4kb24oJ3N0eWxlOnVwZGF0ZScsICgpID0+IHsKICAgICAgLy8gaWYgdGhlIHN0eWxlIHdhcyBjaGFuZ2VkLCAgd2FpdCBmb3IgdGhlIHN0eWxlZGF0YSB0byBiZSBsb2FkZWQgYW5kIHJlLWFkZCBhbGwgdGhlIGxheWVycwogICAgICB0aGlzLiRvbmNlKCdtYi1zdHlsZWRhdGEnLCAoKSA9PiB7CiAgICAgICAgdGhpcy5hZGRMYXllcnMoKQogICAgICB9KQogICAgfSkKCiAgICAvLyBNYXBib3ggaGFzIHNvbWUgcmVzaXplIGlzc3VlcwogICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIG9uIHRoaXMgb2JqZWN0CiAgICAvLyBDYWxsIHJlc2l6ZSBvbiB0aGUgbWFwIHdoZW4gd2UgY2hhbmdlIHN6aWUKICAgIGxldCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih0aGlzLnJlc2l6ZSkKICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy4kZWwpCiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gb2JzZXJ2ZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZExheWVycyAoKSB7CiAgICAgIGxldCBbLi4uY2hpbGRyZW5dID0gdGhpcy4kY2hpbGRyZW4KICAgICAgLy8gVE9ETzogY29uc2lkZXIgc29ydGluZyBvciB1c2luZyBzbG90cyBpZiB3ZSBydW4gdG8gcmVuZGVyIG9yZGVyIHByb2JsZW1zCiAgICAgIC8vIGNoaWxkcmVuLnNvcnQoY2hpbGQgPT4gewogICAgICAvLyAgIHJldHVybiBjaGlsZC5rZXkKICAgICAgLy8gfSkKICAgICAgdGhpcy4kY2hpbGRyZW4uZm9yRWFjaCgKICAgICAgICAoY2hpbGQpID0+IHsKICAgICAgICAgIGNoaWxkLmRlZmVycmVkTW91bnRlZFRvKHRoaXMubWFwKQogICAgICAgIH0KICAgICAgKQoKICAgIH0sCiAgICByZXNpemUoKSB7CiAgICAgIGlmICh0aGlzLm1hcCkgewogICAgICAgIHRoaXMubWFwLnJlc2l6ZSgpCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["VMapbox.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VMapbox.vue","sourceRoot":"node_modules/vue2mapbox-gl/src/components","sourcesContent":["<template>\n  <div>\n    <!-- the main div will get class mapboxgl-map, you can use that class or an id for styling -->\n    <!-- if you put a id in the main element it won't work with 2 maps on one page (for example with compare plugin) -->\n    <slot name=\"layers\"></slot>\n    <slot name=\"sources\"></slot>\n    <slot></slot>\n  </div>\n</template>\n<!-- script is lowercase -->\n<script>\nimport mapboxgl from 'mapbox-gl'\nimport {propsBinder, propsDefaults} from '../utils/propsBinder.js'\nimport {bindMapEvents, bindLayerEvents} from '../utils/eventsBinder.js'\n\nconst mapEvents = [\n  'load',\n  'zoomstart',\n  'zoomend',\n  'zoom',\n  'styledata'\n]\n\n// props that we want to proxy\n// some are disabled pending testing\n// note that boolean props are always defined (unspecified = false).\n// The default true's are copied from https://www.mapbox.com/mapbox-gl-js/api/#map\n// these can be disabled after object construction\n// we can watch all these properties but that's disabled\n\nexport const props = {\n  accessToken: {\n    type: String,\n    required: true\n  },\n  // always this component\n  container: {\n    type: [HTMLElement, String]\n  },\n  minZoom: {\n    type: Number\n  },\n  maxZoom: {\n    type: Number\n  },\n  // can't use style (reserved), use same approach as uber/react-map-gl\n  mapStyle: {\n    type: [Object, String]\n  },\n\n  antialias: {\n    type: Boolean,\n    default: true\n  },\n  // hash: {\n  //   type: Boolean,\n  //   default: false\n  // },\n  // interactive: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // bearingSnap: {\n  //   type: Number\n  // },\n  // classes: {\n  //   // array of strings\n  //   type: Array\n  // },\n  // attributionControl: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // logoPosition: {\n  //   type: String\n  // },\n  // failIfMajorPerformanceCaveat: {\n  //   type: Boolean,\n  //   default: false\n  // },\n  preserveDrawingBuffer: {\n    type: Boolean,\n    default: false\n  },\n  // refreshExpiredTiles: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // maxBounds: {\n  //   // latLngLike\n  //   type: [Object, Array]\n  // },\n  // scrollZoom: {\n  //   type: [Boolean, Object],\n  //   default: true\n  // },\n  // boxZoom: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // dragRotate: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // dragPan: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // keyboard: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // doubleClickZoom: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // touchZoomRotate: {\n  //   type: [Boolean, Object],\n  //   default: true\n  // },\n  // trackResize: {\n  //   type: Boolean,\n  //   default: true\n    // },\n  center: {\n    type: [Object, Array]\n  },\n  zoom: {\n    type: Number\n  },\n  bearing: {\n    type: Number\n  },\n  pitch: {\n    type: Number\n  },\n  // renderWorldCopies: {\n  //   type: Boolean,\n  //   default: true\n  // }\n}\n\nexport default {\n  name: 'v-mapbox',\n  data () {\n    return {\n\t    map: null\n    }\n  },\n  props,\n  provide () {\n    // allows to use inject:  ['getMap']  in child components\n    return {\n      getMap: () => this.map\n    }\n  },\n  mounted () {\n    //Initialze Map\n    mapboxgl.accessToken = this.accessToken\n\n\n    let options = propsDefaults(props, this.$props)\n\n    options.container = this.$el\n\n    // Note that we don't add this.map to data\n    // It does not have to be observed. See:\n    // https://github.com/vuejs/vue/issues/2637#issuecomment-207076744\n    this.map = new mapboxgl.Map(options)\n\n    // listen to property changes and set the corresponding data in mapbox\n    propsBinder(this, this.map, options)\n\n    // emit a map created event\n    this.$emit('mb-created', this.map)\n    bindMapEvents(this, this.map, mapEvents)\n\n    // ones the map  is loaded, add al layers that were present during mount time\n    // we can consider watching our children.\n    this.$on('mb-load', () => {\n      this.addLayers()\n    })\n    this.$on('style:update', () => {\n      // if the style was changed,  wait for the styledata to be loaded and re-add all the layers\n      this.$once('mb-styledata', () => {\n        this.addLayers()\n      })\n    })\n\n    // Mapbox has some resize issues\n    // Create an observer on this object\n    // Call resize on the map when we change szie\n    let observer = new ResizeObserver(this.resize)\n    observer.observe(this.$el)\n    this.resizeObserver = observer\n  },\n  methods: {\n    addLayers () {\n      let [...children] = this.$children\n      // TODO: consider sorting or using slots if we run to render order problems\n      // children.sort(child => {\n      //   return child.key\n      // })\n      this.$children.forEach(\n        (child) => {\n          child.deferredMountedTo(this.map)\n        }\n      )\n\n    },\n    resize() {\n      if (this.map) {\n        this.map.resize()\n      }\n    }\n  }\n}\n</script>\n"]}]}